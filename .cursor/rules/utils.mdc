---
description: Place utility functions in app/lib/utils.ts
alwaysApply: true
---

# Utility Functions Organization

**ALWAYS place utility functions in `app/lib/utils.ts`** - never define them inline in repositories, routes, or other files.

## What Belongs in Utils

- Generic helper functions (e.g., `generateId()`, `chunkArray()`, `formatDate()`)
- Pure functions with no domain-specific logic
- Reusable transformations or validations

## Examples

```typescript
// ❌ BAD - utility function defined inline in repository
// app/repositories/recipe.ts
function generateId(): string {
  return crypto.randomUUID();
}

function chunkArray<T>(array: T[], size: number): T[][] {
  // ...
}

// ✅ GOOD - import from utils
// app/lib/utils.ts
export function generateId(): string {
  return crypto.randomUUID();
}

export function chunkArray<T>(array: T[], size: number): T[][] {
  const chunks: T[][] = [];
  for (let i = 0; i < array.length; i += size) {
    chunks.push(array.slice(i, i + size));
  }
  return chunks;
}

// app/repositories/recipe.ts
import { generateId, chunkArray } from "@/lib/utils";
```

## Import Pattern

Always use the `@/lib/utils` alias:

```typescript
import { generateId, chunkArray, cn } from "@/lib/utils";
```
